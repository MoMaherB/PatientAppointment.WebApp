@model PatientAppointment.WebApp.Models.SerachViewModel
<div class="container mt-5">
    <div class="card" id="patientSearchCard">
        <div class="card-body">
            <h2 class="card-title mb-0"><i class="fas fa-search me-2"></i>Find a Patient</h2>

            <form class="row g-3 align-items-end m-4" asp-controller="Appointments" asp-action="FindPatients">
                <div class="form-floating mb-3 col-md-2">
                    <input asp-for="FullName" class="form-control" placeholder="Full Name" />
                    <label asp-for="FullName"></label>
                </div>

                <div class="form-floating mb-3  col-md-2">
                    <input asp-for="Address" class="form-control" placeholder="Address" />
                    <label asp-for="Address"></label>
                </div>

                <div class="form-floating mb-3  col-md-2">
                    <input asp-for="Phone" class="form-control" placeholder="Phone" />
                    <label asp-for="Phone"></label>
                </div>
                <div class="form-floating mb-3  col-md-2">
                    <select asp-for="Gender" class="form-control">
                        <option value="">-- Select Gender --</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                    <label asp-for="Gender"></label>
                </div>
                <div class="form-floating mb-3 col-md-2">
                    <input asp-for="BirthDate" type="date" class="form-control" placeholder="Birth Date />
                    <label asp-for="BirthDate"></label>
                </div>

                <div class="form-floating mb-3 col-md-2">
                    <input asp-for="Country" class="form-control" placeholder="Country" />
                    <label asp-for="Country"></label>
                </div>
                <div class="form-group mb-3 mt-3  col-md-2">
                    <input type="submit" value="Search" class="btn btn-primary" />
                </div>

            </form>
        </div>    
    </div>
    @if (Model != null)
    {
        @if (Model.SearchResultPatients.Count != 0)
        {
            <ul class="list-group mt-4">
                @foreach (var item in Model.SearchResultPatients)
                {
                    <a class="nav-link text-dark" asp-area="" asp-controller="Appointments" asp-action="PatientAppointments" asp-route-pid="@item.Id">
                    <li class="list-group-item d-flex justify-content-between align-items-center" style="cursor: pointer;">
                        <div>
                            <h6 class="mb-1">Name: @item.FullName</h6>
                            <p class="mb-1 text-muted">BirthDate:   @DateOnly.FromDateTime(item.BirthDate)</p>
                            <span class="badge bg-primary">@item.Country</span>
                        </div>
                    </li>
                    </a>
                }
            </ul>
        }
        else
        {
             <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center mt-2 mb-2">
                 <h4>No patients found. Please search again</h4>
                 </li>
             </ul>
        }
    }

</div>